<!-- AGENTS.md -->

# AGENTS — системная инструкция для новых агентов (AXIOM WEB CORE / ui)

## Назначение
Этот файл помогает любому агенту быстро адаптироваться, работать с CREATOR и поддерживать единый процесс: анализ → правки → QA → лог → коммит → фидбэк.

> В чате всегда писать на RU.  
> Обращение к пользователю: **CREATOR**.

---

## 1) Коммуникация с CREATOR
- Пиши на русском, коротко и по делу.
- Всегда фиксируй: **цель**, **контекст**, **что изменилось**, **что нужно проверить**.
- После значимых визуальных правок — проси фидбэк и скрин.
- Если ты видишь неожиданные изменения/файлы — **стоп** и спроси CREATOR.
- Не выполняй разрушительные действия без запроса.

**Шаблон вопросов (универсальный):**
1) Какая цель/ожидаемый результат?  
2) Какой маршрут/экран/сценарий?  
3) Какое окно/масштаб/режим?  
4) Нужен скрин с `?debug=1`?  

---

## 2) Где что лежит (карта проекта)

### Управление задачами и логами
- Общие правила: `docs/agent_ops/README.md`
- Логи задач: `docs/agent_ops/logs/`
- Текущая активная задача всегда описана в одном из логов.

### Итерации / спеки
- Итерации: `docs/iterations/`
- Для каждой задачи обычно есть `spec.md` и материалы/скрины.

### Баги
- Индекс и карточки: `docs/bugs/`

### Скриншоты
- Базовые и баг‑пакеты: `docs/iterations/<iteration>/assets/screenshots/`
- Описание условий в README внутри папки screenshots.

### Основной код
- Роуты: `app/routes/`
- Компоненты: `components/`
- Стили: `styles/`
- Библиотеки/утилиты: `lib/`
- Публичные данные: `public/data/`
- Dev‑скрипты: `scripts/devtools/`

---

## 3) Как принимать задачу
1) Прочитай текущий лог в `docs/agent_ops/logs/` и последнюю запись.
2) Найди связанный spec/итерацию в `docs/iterations/`.
3) Уточни у CREATOR цель, критерии “готово”, и что нужно проверить.
4) Зафиксируй вводные в логе (Step A).

---

## 4) Как выполнять задачу

### 4.1 Сбор данных
- Проси скрины и фактические параметры окружения (масштаб, разрешение, route).
- Если есть `debug=1` — используй его.

### 4.2 Правки
- Делай минимальные изменения, избегай больших рефакторингов.
- Не меняй архитектуру без согласования.
- Вноси правки последовательно и прозрачно.

### 4.3 QA
- После изменений попроси CREATOR проверить и подтвердить.
- Любой результат (PASS/FAIL/SKIP) фиксируй в логе.

### 4.4 Фиксация
1) Обнови лог (Step B/D/E).  
2) Сделай атомарный коммит.  
3) Сообщи CREATOR, что сделано и что проверить.  

---

## 5) Логи (обязательны)
Каждое действие фиксируется в логе:
- Step A: вход/контекст/фидбэк
- Step B: изменения (что и где)
- Step D: QA (PASS/FAIL/SKIP)
- Step E: коммиты

Формат записи:
```
- YYYY-MM-DDTHH:MM:SS+TZ — Действие: ... → Результат: OK
```

---

## 6) Git/Коммиты
- Коммиты должны быть маленькими и атомарными.
- Не использовать `--amend` без запроса CREATOR.
- Префиксы: `fix(...)`, `feat(...)`, `docs(...)`, `chore(...)`, `chore(agent-ops)`.
- После коммита обнови Step E.

---

## 7) Скриншоты и документация
- Скриншоты складывать в папку итерации `docs/iterations/<iteration>/assets/screenshots/`.
- README скринов должен описывать **условия съёмки** и **замечания**.
- При новых баг‑пакетах добавлять описание в README.

---

## 8) Процесс постановки задач (как “ставить” и “делать”)
1) CREATOR описывает цель + критерий результата.
2) Агент формулирует краткий план (если задача сложная).
3) Агент выполняет изменения маленькими шагами.
4) CREATOR проверяет и подтверждает.
5) Агент фиксирует изменения (лог + коммит).

---

## 9) Тесты и проверка
- Локальные проверки делать по согласованию.
- Визуальные задачи подтверждает CREATOR.
- Если тесты не запускались — прямо указывать это в отчёте.

---

## 10) Поведение при неопределенности
- Если задача не ясна — спроси CREATOR.
- Если появляются неожиданные изменения в репозитории — остановись и уточни.

---

## 11) Обязательный дневной чек‑лист
1) Прочитать лог и материалы задачи.
2) Уточнить вводные у CREATOR.
3) Внести правки (минимальные).
4) Зафиксировать в логе.
5) Закоммитить.
6) Запросить фидбэк/проверку.
